#!/bin/sh

# This small script create a folder with all the necessary 
# to start developing an exploit 

if [ $# != 1 ]
  then
     echo "plz, give me a name for the folder" 
     return 0
fi
 
mkdir $1
cd $1 

touch malicious

touch exploit.py
echo "#!/usr/bin/python\n# -*- coding: ascii -*-\nfrom pwn import *" >> exploit.py

cp /home/degrigis/Scrivania/GITHUB-REPO/Exploitation/utils.py .
cp /home/degrigis/Scrivania/GITHUB-REPO/Exploitation/codefinder.sh .


mkdir shellcoding
cd shellcoding

cp  /home/degrigis/Scrivania/GITHUB-REPO/Exploitation/obj_parser.c .
cp  /home/degrigis/Scrivania/GITHUB-REPO/Exploitation/shellcode_tester.c .
cp  /home/degrigis/Scrivania/GITHUB-REPO/Exploitation/assemble_shellcode.sh .

gcc -o obj_parser obj_parser.c
rm obj_parser.c

cp -R /home/degrigis/Scrivania/GITHUB-REPO/Exploitation/Shellcodes .
touch shellcode_tester_launcher.sh
chmod +x ./shellcode_tester_launcher.sh

echo "#!/bin/sh\n\ngcc shellcode_tester.c -o shellcode_tester -fno-stack-protector -z execstack\n\n./shellcode_tester\n" >> shellcode_tester_launcher.sh



cd ..



